<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tính Lương & Chi Tiêu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>

<body class="text-gray-900 is-loading">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">
        <header class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-bold tracking-tight text-zinc-900">Công Cụ Tính Lương & Chi Tiêu</h1>
            <p class="mt-2 text-zinc-600">Bản quyền thuộc về <a href="https://www.facebook.com/thehoangdn/"
                    target="_blank" rel="noopener noreferrer" class="font-medium text-zinc-800 hover:underline">Nguyễn
                    Thế Hoàng</a> - <a href="https://www.facebook.com/ngocthienpharma" target="_blank"
                    rel="noopener noreferrer" class="font-medium text-zinc-800 hover:underline">Công ty Cổ phần Thương
                    mại và Dược phẩm Ngọc Thiện</a></p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
            <!-- Input Form -->
            <div class="lg:col-span-2">
                <div class="rounded-xl border bg-white text-gray-900 shadow">
                    <div class="flex flex-col space-y-1.5 p-6">
                        <h3 class="font-semibold tracking-tight text-lg text-gray-900">Thông tin lương</h3>
                    </div>
                    <div class="p-6 pt-0 space-y-4">
                        <!-- Form fields -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <label for="agreedSalary" class="text-sm font-medium">Lương thỏa thuận (Gross)</label>
                                <div class="tooltip">
                                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                                    </svg>
                                    <span class="tooltiptext">Tổng lương hàng tháng trước khi trừ các khoản bảo hiểm,
                                        thuế và giảm trừ khác.</span>
                                </div>
                            </div>
                            <input type="text" id="agreedSalary" value="0" inputmode="numeric"
                                class="flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2">
                        </div>
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <label for="insuranceSalary" class="text-sm font-medium">Lương đóng bảo hiểm</label>
                                <div class="tooltip">
                                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                                    </svg>
                                    <span class="tooltiptext">Mức lương cơ sở để tính các khoản trích nộp BHXH, BHYT,
                                        BHTN.</span>
                                </div>
                            </div>
                            <input type="text" id="insuranceSalary" inputmode="numeric"
                                class="flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2"
                                placeholder="Để trống nếu đóng full lương">
                        </div>
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <label for="actualWorkdays" class="text-sm font-medium">Số ngày công thực tế</label>
                                <div class="tooltip">
                                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                                    </svg>
                                    <span class="tooltiptext">Tổng số ngày bạn thực sự làm việc trong tháng.</span>
                                </div>
                            </div>
                            <input type="number" id="actualWorkdays" value="0" step="0.5"
                                class="flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2">
                        </div>
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <label for="paidLeaveDays" class="text-sm font-medium">Số ngày nghỉ hưởng lương</label>
                                <div class="tooltip">
                                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                                    </svg>
                                    <span class="tooltiptext">Lương ngày nghỉ (phép/lễ) được tính dựa trên Lương đóng
                                        bảo hiểm. Công thức hiện tại: (Lương đóng bảo hiểm / 26) &times; Số ngày
                                        nghỉ.</span>
                                </div>
                            </div>
                            <input type="number" id="paidLeaveDays" value="0" step="0.5"
                                class="flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2">
                        </div>
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <label for="dependents" class="text-sm font-medium">Số người phụ thuộc</label>
                                <div class="tooltip">
                                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                                    </svg>
                                    <span class="tooltiptext">Số người được giảm trừ gia cảnh khi tính thuế TNCN.</span>
                                </div>
                            </div>
                            <input type="number" id="dependents" value="0"
                                class="flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2">
                        </div>
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <label for="otherAllowances" class="text-sm font-medium">Phụ cấp & Thưởng khác</label>
                                <div class="tooltip">
                                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                                    </svg>
                                    <span class="tooltiptext">Tổng các khoản phụ cấp, thưởng được cộng vào thu
                                        nhập.</span>
                                </div>
                            </div>
                            <input type="text" id="otherAllowances" value="0" inputmode="numeric"
                                class="flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2">
                        </div>
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <label for="otherDeductions" class="text-sm font-medium">Các khoản trừ khác</label>
                                <div class="tooltip">
                                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                                    </svg>
                                    <span class="tooltiptext">Các khoản bị trừ khác ngoài bảo hiểm và thuế (ví dụ: Kinh
                                        phí công đoàn).</span>
                                </div>
                            </div>
                            <input type="text" id="otherDeductions" value="0" inputmode="numeric"
                                class="flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2">
                        </div>
                    </div>
                    <div class="flex items-center p-6 pt-0 gap-x-3">
                        <button type="button" id="reset-btn"
                            class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2 border border-gray-300 bg-white hover:bg-gray-100 h-10 px-4 py-2">
                            Huỷ
                        </button>
                        <button type="button" id="calculate-btn"
                            class="inline-flex items-center justify-center w-full whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2 bg-gray-900 text-white hover:bg-gray-900/90 h-10 px-4 py-2 flex-grow">
                            Tính toán
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results -->
            <div id="results" class="lg:col-span-3 hidden">
                <div class="rounded-xl border bg-white text-gray-900 shadow">
                    <div class="flex flex-col space-y-1.5 p-6">
                        <h3 class="font-semibold tracking-tight text-lg text-gray-900">Bảng lương chi tiết</h3>
                    </div>
                    <div class="p-6 pt-0">
                        <div
                            class="relative w-full rounded-lg border border-indigo-200 bg-indigo-50 p-4 mb-6 text-sm text-red-600">
                            <h5 class="mb-1 font-medium">Ghi chú về cách tính lương theo ngày công</h5>
                            <ul class="list-disc list-inside mt-1 space-y-1 text-xs">
                                <li><strong>Dưới 22 công:</strong> (Lương thỏa thuận / 22) &times; Số ngày công thực tế
                                </li>
                                <li><strong>Từ 22 - 26 công:</strong> 100% Lương thỏa thuận</li>
                                <li><strong>Trên 26 công:</strong> (Lương thỏa thuận / 26) &times; Số ngày công thực tế
                                </li>
                            </ul>
                        </div>

                        <div class="space-y-3 text-sm">
                            <div class="flex items-center justify-between">
                                <span class="text-gray-600">1. Lương theo ngày công thực tế</span>
                                <span class="font-medium text-gray-900">
                                    <span id="res-workday-salary"></span>
                                    <span id="res-actual-workdays-detail" class="text-gray-500 font-normal ml-1"></span>
                                </span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-600">2. Lương ngày nghỉ hưởng lương</span>
                                <span class="font-medium text-gray-900">
                                    <span id="res-paid-leave-salary"></span>
                                    <span id="res-paid-leave-detail" class="text-gray-500 font-normal ml-1"></span>
                                </span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-600">3. Phụ cấp & Thưởng</span>
                                <span id="res-allowances" class="font-medium text-gray-900"></span>
                            </div>

                            <div class="!mt-5 pt-4 border-t">
                                <div class="flex items-center justify-between font-semibold">
                                    <span class="text-base text-gray-900">A. Tổng thu nhập (Gross)</span>
                                    <span id="res-gross-salary" class="text-base text-gray-900"></span>
                                </div>
                            </div>

                            <div class="!mt-5">
                                <p class="font-semibold mb-2 text-base text-gray-900">B. Các khoản khấu trừ</p>
                                <div class="pl-4 border-l-2 space-y-3">
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-600">1. Bảo hiểm xã hội (8%)</span>
                                        <span id="res-bhxh" class="font-medium text-gray-900"></span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-600">2. Bảo hiểm y tế (1.5%)</span>
                                        <span id="res-bhyt" class="font-medium text-gray-900"></span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-600">3. Bảo hiểm thất nghiệp (1%)</span>
                                        <span id="res-bhtn" class="font-medium text-gray-900"></span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-600">4. Các khoản trừ khác</span>
                                        <span id="res-other-deductions" class="font-medium text-gray-900"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="flex items-center justify-between font-semibold text-red-600 pt-3">
                                <span class="text-base">Tổng khấu trừ (1) + (2) + (3) + (4)</span>
                                <span id="res-total-deductions" class="text-base"></span>
                            </div>

                            <div class="!mt-6 pt-5 border-t-2 border-dashed">
                                <div class="flex items-center justify-between">
                                    <span class="text-lg font-bold text-gray-900">Lương thực nhận (NET)</span>
                                    <span id="res-net-salary" class="text-2xl font-bold text-green-600"></span>
                                </div>
                            </div>
                            <div class="!mt-4 pt-4 border-t">
                                <div class="flex items-center justify-between">
                                    <span class="text-gray-600 font-medium">Thuế TNCN (Công ty đóng)</span>
                                    <span id="res-pit" class="font-semibold text-indigo-700"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Expense Tracker -->
            <div id="expense-tracker" class="lg:col-span-5 hidden">
                <div class="rounded-xl border bg-white text-gray-900 shadow">
                    <div class="flex flex-col space-y-1.5 p-6">
                        <h3 class="font-semibold tracking-tight text-lg text-gray-900">Theo Dõi Chi Tiêu Hàng Tháng</h3>
                        <p class="text-sm text-gray-500">Nhập các khoản chi tiêu để tính số tiền còn lại từ tổng quỹ của
                            bạn.</p>
                    </div>
                    <div class="p-6 pt-0">
                        <!-- Current Cash Input -->
                        <div class="mb-6">
                            <div class="flex items-center justify-between mb-2">
                                <label for="currentCash" class="text-sm font-medium">Số tiền hiện có:</label>
                                <div class="tooltip">
                                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                                    </svg>
                                    <span class="tooltiptext">Số tiền bạn đang có trước khi nhận lương. Để trống nếu mặc
                                        định là 0đ.</span>
                                </div>
                            </div>
                            <input type="text" id="currentCash" value="0" inputmode="numeric"
                                class="flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2"
                                placeholder="Mặc định là 0đ">
                        </div>

                        <!-- Expense List -->
                        <div id="expense-list" class="space-y-4 mb-6">
                            <!-- Dynamic expense rows will be inserted here -->
                            <div class="flex items-center justify-between mb-2">
                                <label for="currentCash" class="text-sm font-medium">Danh sách chi tiêu:</label>
                            </div>
                        </div>

                        <!-- Add button -->
                        <button type="button" id="add-expense-btn"
                            class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-2 border border-gray-300 bg-white hover:bg-gray-100 h-10 px-4 py-2 w-full">
                            + Thêm khoản chi
                        </button>

                        <!-- Summary -->
                        <div class="mt-6 pt-6">
                            <div class="space-y-4">
                                <div class="flex items-center justify-between text-base">
                                    <span class="text-gray-600">Tổng quỹ (Tiền có + Lương)</span>
                                    <span id="summary-total-funds" class="font-medium text-gray-900"></span>
                                </div>
                                <div class="flex items-center justify-between text-base">
                                    <span class="text-gray-600">Tổng chi tiêu</span>
                                    <span id="total-expenses" class="font-medium text-red-600"></span>
                                </div>
                                <div class="!mt-5 pt-4 border-t-2 border-dashed">
                                    <div class="flex items-center justify-between">
                                        <span class="text-lg font-bold text-gray-900">SỐ TIỀN CÒN LẠI</span>
                                        <span id="remaining-balance" class="text-2xl font-bold text-blue-600"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <footer class="text-center mt-12 text-sm text-gray-500">
            <p>Công cụ này chỉ mang tính chất tham khảo. Các quy định về lương và thuế có thể thay đổi.</p>
        </footer>
    </div>

        <!-- Calculator removed per user request -->

        <script src="script.js"></script>
</body>

</html>